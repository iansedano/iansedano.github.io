<!DOCTYPE html>
<html lang="en"><head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="iansedano" />

    
	
</head>
<style>@import url(/public/css/syntax/monokai.css);</style>
  <title>iansedano</title>
  <!-- <link href="/public/css/bootstrap.min.css" rel="stylesheet"> -->

  <link href="/public/css/style.css" rel="stylesheet">
  <body>
  	<div class="container"> 
		<div class="sidebar">
			<div class="sidebar-item sidebar-header">
	<div class='sidebar-brand'>
		<a href="/about/">iansedano</a>
	</div>
	<p class="lead">Personal Blog</p></div>

<div class="sidebar-item sidebar-nav">
	<ul class="nav">
		<li class="nav-title">Pages</li>
		<li>
			<a class="nav-item" href="/">Posts</a>
		</li>
		
		
		
		
		
		
		<li>
			<a class="nav-item" href="/about/">
				About
			</a>
		</li>
		
		
		
		
		
		
		
		
		
		
		
		
		
		<li>
			<a class="nav-item" href="/pages/tags.html">
				All Tags
			</a>
		</li>
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
	</ul>
</div>

<!-- <div class="sidebar-item sidebar-nav">
  	<ul class="nav">
			<li class="nav-title">Categories</li>
	    
	    <li>
	    	<a class="nav-item" href="/category/#personal projects">
				<span class="name">personal projects</span>
				<span class="badge">1</span>
	    	</a>
 		</li>
	    
	  </nav>
	</ul>
</div> -->

<div class="sidebar-item sidebar-nav">
	<ul class="nav">
		<li class="nav-title">Top Tags</li>

		
		
		
		
		<li><a href="/tag/programming">programming (17)</a></li>
		
		
		<li><a href="/tag/music">music (8)</a></li>
		
		
		<li><a href="/tag/art">art (7)</a></li>
		
		
		<li><a href="/tag/javascript">javascript (6)</a></li>
		
		
		<li><a href="/tag/design">design (6)</a></li>
		
		
		<li><a href="/tag/hardware">hardware (5)</a></li>
		
		
		<li><a href="/tag/video">video (4)</a></li>
		
		
		<li><a href="/tag/p5">p5 (4)</a></li>
		
	</ul>
</div>


<div class="sidebar-item sidebar-footer">
	<p>Powered by <a href="https://github.com/jekyll/jekyll">Jekyll</a></p>
</div>
		</div>
		<div class="content">
			<article class="post">
	<header class="post-header">
		<div class="post-title"> 
			Setting up WSL on Windows 10
		</div>
		<time class="post-date dt-published" datetime="2020-04-10T00:00:00+02:00" itemprop="datePublished">2020/04/10
		</time>		
	</header>

	<div class="post-content">
		<p><em>(These instructions are now most likely out of date)</em></p>

<p>This is a quick guide in getting set up with WSL (Windows Subsystem for Linux). There are many tutorials out there but in my case it was slightly different. So I putting this out there for anyone who might have use of it.</p>

<p>Why would you want WSL?</p>
<ul>
  <li>To use Linux tools without having to have a virtual machine or dual boot. I commonly use these on WSL and not windows:
    <ul>
      <li>Jekyll (because it works)</li>
      <li>Git (because SSH)</li>
      <li>Pyspread (with GUI!)</li>
      <li>Grep</li>
      <li>This is a growing list.</li>
    </ul>
  </li>
</ul>

<h2 id="fresh-install">Fresh Install</h2>

<h3 id="making-sure-you-have-the-right-version-of-windows">Making sure you have the right version of Windows</h3>

<p>While you can install WSL on previous builds, WSL2 is really what you want to go for. I found so many weird bugs in WSL1 while WSL2, just works.</p>

<p><strong>This will probably not be needed in a few months, when WSL2 will be packaged with Windows as standard.</strong></p>

<p>Check your version of windows by pressing <kbd>Win</kbd> + <kbd>R</kbd> then type <code class="highlighter-rouge">winver</code> in the box.</p>

<p><img src="https://www.dropbox.com/s/a3oicv3ivpkif61/winver.png?raw=1" class="post-img" /></p>

<p>You need at least this version of Windows to be able to use WSL2, and for that, when I installed this (2020-04-10) you needed to be on the <strong>windows insider program</strong>, found in:</p>

<blockquote>
  <p>settings &gt; update &amp; security</p>
</blockquote>

<p>I chose the “slow” version of the insider program.</p>

<p>This may take a while to update, so be sure to check your <code class="highlighter-rouge">winver</code> before proceeding any further.</p>

<p>I was previously on a 18XX build and WSL2, though it would install without issues, would not activate properly.</p>

<h3 id="enable-wsl">Enable WSL</h3>

<p><strong>This will probably not be needed in a few months, when WSL2 will be packaged with Windows as standard.</strong></p>

<p>Hit the Start button in the taskbar and type “Turn Windows features on or off” - this is also accessible via the Control Panel.</p>

<ul>
  <li>Enable Windows Subsystem for Linux.</li>
  <li>Enable Virtual Machine Platform (Note, this may break any virtual machines you have).</li>
</ul>

<p>Once this is done 
Download and Install Ubuntu for Windows from Microsoft store.</p>

<p><strong>DO NOT MODIFY LINUX FILES FROM WINDOWS!!</strong></p>

<p>I can’t recommend installing Visual Studio Code enough. There is a plugin that enables connection to WSL, and once you are connected to the WSL through VS code, things work very well.</p>

<p>Then once WSL is installed, download the WSL2 package from Microsoft or Google it to find the latest package. Install that and then upgrade your distro from Powershell.</p>

<p>Check your distros:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wsl -l -v
</code></pre></div></div>

<p>Then:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wsl --set-version &lt;disto-name&gt; 2
</code></pre></div></div>

<h3 id="mobaxterm---to-run-graphical-linux-apps">MobaXterm - to run Graphical Linux Apps</h3>

<p>IF you want to run graphical apps from WSL you will need an X-server.</p>

<p>Download, install free version of <a href="https://mobaxterm.mobatek.net/">MobaXterm</a>.</p>

<p>Always run MobaXterm before firing up your WSL, and in top righthand corner it should say “X-server running”.</p>

<h4 id="set-the-display-in-wsl">Set the DISPLAY in WSL</h4>

<p>You will need to config WSL to send the display to windows.</p>

<p>run <code class="highlighter-rouge">nano ~/.bashrc</code> then add this to bottom of file <code class="highlighter-rouge">export DISPLAY=:0</code></p>

<p>to apply <code class="highlighter-rouge">source ~/.bashrc</code></p>

<p>The above <code class="highlighter-rouge">source ~/.bashrc</code> command should be added to the profile so that it runs every time you start WSL.</p>

<h2 id="if-you-installed-it-but-its-not-working-properly">If you installed it but its not working properly</h2>

<p>I had already installed WSL2 but started getting these errors when installing different packages:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 8C718D3B5072E1F5

gpg: keyserver receive failed: No dirmngr

gpg: can't connect to the agent: IPC connect call failed
</code></pre></div></div>

<hr />
<p><br />
Even though I had installed the WSL2 update, it had not in fact <em>activated</em>, this was because my Windows build was too old. See instructions above for how to get a newer build of windows.</p>

<p><strong>You can check your WSL version by running this command in ubuntu</strong>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="o">[</span> <span class="si">$(</span><span class="nb">grep</span> <span class="nt">-oE</span> <span class="s1">'gcc version ([0-9]+)'</span> /proc/version | <span class="nb">awk</span> <span class="s1">'{print $3}'</span><span class="si">)</span> <span class="nt">-gt</span> 5 <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="se">\ </span><span class="nb">echo</span> <span class="s2">"WSL2"</span> <span class="o">||</span> <span class="nb">echo</span> <span class="s2">"WSL1"</span>
</code></pre></div></div>

<p>(This command only seems to work in WSL 1.)</p>

<p>Alternatively this command: <code class="highlighter-rouge">wsl -l -v</code> will not be recognized in WSL1.</p>

<p>Upgrade windows, then find the WSL2 installer package with Google and install it.</p>

<p>after which <code class="highlighter-rouge">wsl -l -v</code> should work in Powershell and show that you have version 1 of WSL, or no distro installed.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>PS&gt; wsl -l -v
  NAME      STATE           VERSION
* Ubuntu    Running         2
PS&gt;
</code></pre></div></div>

<p>Ensure you have Ubuntu installed via the Windows Store and then to convert your existing distro to WSL 2:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wsl <span class="nt">--set-version</span> &lt;disto-name&gt; 2
</code></pre></div></div>

<h4 id="possible-issue-with-paths">possible issue with paths</h4>

<p>When I got Ubuntu up and running it would throw an error complaining about my path.</p>

<p>This is because Linux doesn’t accept spaces in its paths, but Windows does, and WSL inherits its paths from Windows.</p>

<p>To fix this I went into <code class="highlighter-rouge">regedit</code>, navigated to:</p>

<p><code class="highlighter-rouge">HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Session Manager\Environment\Path</code></p>

<p>and put quotations around any paths with spaces.</p>

<p>I would recommend getting familiar with your .bashrc and .bash_profile files (always edit these from within WSL!) as many of the issues I have encountered seem to stem from this getting messed up or not being configured properly.</p>

<hr />

<p>Good luck! If you get through it I am sure you will enjoy WSL! For me it is far more practical than other Linux solutions for Windows users, being far more practical than VMs, dual-booting, Cygwin or Git Bash (ymmv).</p>

	</div>
</article>
		</div>
	</div>
  </body>
</html>